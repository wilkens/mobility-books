beg<-sample(1:(nrow(a.sub)-s.size),1)
s<-a.sub$originalWord[beg:(beg+s.size)]
ttr.v[j]<-length(unique(s))/length(s
}
n=20
#establish length of sample (i.e. # words to test)
s.size<-499
#establish empty vector
ttr.v<-vector(mode="numeric", length=n)
#for each sample
for (j in 1:n) {
beg<-sample(1:(nrow(a.sub)-s.size),1)
s<-a.sub$originalWord[beg:(beg+s.size)]
ttr.v[j]<-length(unique(s))/length(s)
}
ttr.v
avg.ttr<-mean(ttr.v)
avg.ttr
setwd("~/Data/bookNLP_gut_child_select")
#get list of files in target directory
f.names<-list.files()
#create empty table that will store your results
difficulty.df<-NULL
#for every file
for (i in 1:length(f.names)){
print(i)
#ingest each file - IF tab separated
a<-read.csv(f.names[i], sep="\t", quote = "", stringsAsFactors = F)
#ingest each file - IF comma separated
#a<-read.csv(f.names[i], stringsAsFactors = F)
#average sentence length
avg.sent.length<-mean(table(a$sentenceID))
#average word length
#remove punctuation first
a.sub<-a[-grep("[[:punct:]]", a$originalWord),]
avg.word.length<-mean(nchar(a.sub$originalWord))
#average type token ratio
#this takes n samples of s.size length and calculates the type token ration for each sample
#it then takes the mean type-token ratio for all samples as the mean TTR score for the document
#establish number of samples to take
n=20
#establish length of sample (i.e. # words to test)
s.size<-499
#establish empty vector for all samples
ttr.v<-vector(mode="numeric", length=n)
#for each sample
for (j in 1:n) {
beg<-sample(1:(nrow(a.sub)-s.size),1)
s<-a.sub$originalWord[beg:(beg+s.size)]
ttr.v[j]<-length(unique(s))/length(s)
}
#get average of all samples
avg.ttr<-mean(ttr.v)
#store work name
work<-f.names[i]
#combine all scores
temp.df<-data.frame(work, avg.sent.length, avg.word.length, avg.ttr)
#add to meta-table
difficulty.df<-rbind(difficulty.df, temp.df)
}
View(difficulty.df)
hist(difficulty.df$avg.ttr)
setwd("~/Data/txtlab_CONLIT_subGenres_fic/NovelEnglish_Bestsellers")
source.texts<-c("~/Data/txtlab_CONLIT_subGenres_fic/NovelEnglish_Bestsellers")
target.texts<-c("~/Desktop/BS100")
setwd(source.texts)
setwd(source.texts)
#get list of files
fn<-list.files()
#sample n files
n<-100
fn.s<-sample(fn, n)
for (i in 1:length(fn.s)){
print(i)
#setwd to source texts directory
setwd(source.texts)
#ingest
work<-scan(fn.s[i], what="character", quote="", quiet=T)
### insert cleaning steps here ###
#remove numbers
#work<-gsub("\\d", "", work)
#split on punctuation
#work<-unlist(strsplit(work,"[[:punct:]]"))
#make all lowercase
#work<-tolower(work)
#remove blanks
#work<-work[work != ""]
#paste as single string
work.all<-paste(work, sep=" ", collapse=" ")
#set working directory to target directory
setwd(target.texts)
#write
write(work.all, file=fn.s[i])
}
source.texts<-c("~/Data/txtlab_CONLIT_subGenres_fic/NovelEnglish_PrizeWinners")
target.texts<-c("~/Desktop/PW100")
setwd(source.texts)
#get list of files
fn<-list.files()
#sample n files
n<-100
fn.s<-sample(fn, n)
#loop through ingest and write
for (i in 1:length(fn.s)){
print(i)
#setwd to source texts directory
setwd(source.texts)
#ingest
work<-scan(fn.s[i], what="character", quote="", quiet=T)
### insert cleaning steps here ###
#remove numbers
#work<-gsub("\\d", "", work)
#split on punctuation
#work<-unlist(strsplit(work,"[[:punct:]]"))
#make all lowercase
#work<-tolower(work)
#remove blanks
#work<-work[work != ""]
#paste as single string
work.all<-paste(work, sep=" ", collapse=" ")
#set working directory to target directory
setwd(target.texts)
#write
write(work.all, file=fn.s[i])
}
library(gutenbergr)
a<-as.data.frame(gutenberg_subjects)
View(a)
View(a)
a<-as.data.frame(gutenberg_subjects)
meta<-as.data.frame(gutenberg_metadata)
meta.en<-meta[meta$language == "en",]
meta<-meta[meta$has_text == "TRUE",]
meta.en<-meta[meta$language == "en",]
a<-a[which(a$gutenberg_id %in% meta.en$gutenberg_id),]
a<-as.data.frame(gutenberg_subjects)
#get metadata
meta<-as.data.frame(gutenberg_metadata)
#subset by language and full text
meta<-meta[meta$has_text == "TRUE",]
meta.en<-meta[meta$language == "en",]
setwd("~/Research/biodiversity")
#get external list of books
id<-read.csv("16k Texts.txt", header=F, sep="\t")
View(id)
id$V1<-gsub("PG", "", id$V1)
sub<-meta.en[meta.en$gutenberg_id %in% id$V1,]
View(sub)
sub.meta<-meta.en[meta.en$gutenberg_id %in% id$V1,]
sub.a<-a[a$gutenberg_id %in% sub.meta$gutenberg_id,]
View(sub.a)
View(meta)
View(meta.en)
View(sub)
auth<-as.data.frame(gutenberg_authors)
View(auth)
View(sub.meta)
sub.auth<-auth[auth$gutenberg_author_id %in% sub.meta$gutenberg_author_id,]
View(sub.auth)
#map birth-dates on book IDs
library(plyr)
View(sub.meta)
test1<-mapvalues(sub.meta$gutenberg_author_id, from=sub.auth$birthdate, to=sub.meta$gutenberg_author_id)
View(sub.auth)
View(sub.meta)
View(sub.auth)
test1<-mapvalues(sub.meta$gutenberg_author_id, from=sub.auth$birthdate, to=sub.auth$gutenberg_author_id)
test1<-mapvalues(sub.meta$gutenberg_author_id, from=sub.auth$gutenberg_author_id, to=sub.auth$birthdate)
sub.meta$birthdate<-mapvalues(sub.meta$gutenberg_author_id, from=sub.auth$gutenberg_author_id, to=sub.auth$birthdate)
View(sub.meta)
View(sub.auth)
View(sub.meta)
View(sub.meta)
#test
test<-sub.meta[1:5,]
#download books
books<-gutenberg_download(test$gutenberg_id, meta_fields = "gutenberg_id", "title")
View(test)
#download books
books<-gutenberg_download(test$gutenberg_id, meta_fields = "title")
test$gutenberg_id
#download books
books<-gutenberg_download(test$gutenberg_id[1])
View(books)
#download books
books<-gutenberg_download(768)
my_mirror <- "http://mirrors.xmission.com/gutenberg/"
books<-gutenberg_download(test, mirror = my_mirror)
View(books)
View(books)
#test
test<-sub.meta[1:5000,]
sub<-books[books$gutenberg_id == as.numeric(levels(as.factor(books$gutenberg_id)))[i],]
i=1
sub<-books[books$gutenberg_id == as.numeric(levels(as.factor(books$gutenberg_id)))[i],]
View(sub)
sub1<-paste(sub$text, collapse = " ")
sub$gutenberg_id[1]
#create custon filename
file.name<-paste("PG", sub$gutenberg_id[1], ".txt", sep = "")
file.name
sub<-books[books$gutenberg_id == as.numeric(levels(as.factor(books$gutenberg_id)))[i],]
#collapse into a single unit
sub1<-paste(sub$text, collapse = " ")
#create custon filename
file.name<-paste("PG", sub$gutenberg_id[1], ".txt", sep = "")
#removes spaces, removes line breaks (twice!), removes chars after the first 20
#file.name<-paste(sub$gutenberg_id[1],"_", gsub("\n", "", substr(gsub("[[:punct:]]", "",gsub(" ", "", sub$title[1], fixed = TRUE)), 1,20), fixed=TRUE),".txt", sep="")
#file.name<-gsub("\r", "", file.name, fixed = T)
#write file
write(sub1, file=file.name)
setwd("~/Data/gut_BIO")
sub<-books[books$gutenberg_id == as.numeric(levels(as.factor(books$gutenberg_id)))[i],]
#collapse into a single unit
sub1<-paste(sub$text, collapse = " ")
#create custon filename
file.name<-paste("PG", sub$gutenberg_id[1], ".txt", sep = "")
#removes spaces, removes line breaks (twice!), removes chars after the first 20
#file.name<-paste(sub$gutenberg_id[1],"_", gsub("\n", "", substr(gsub("[[:punct:]]", "",gsub(" ", "", sub$title[1], fixed = TRUE)), 1,20), fixed=TRUE),".txt", sep="")
#file.name<-gsub("\r", "", file.name, fixed = T)
#write file
write(sub1, file=file.name)
test<-sub.meta[1:5000,]
#download books
my_mirror <- "http://mirrors.xmission.com/gutenberg/"
books<-gutenberg_download(test, mirror = my_mirror)
#set working directory
setwd("~/Data/gut_BIO")
#for every book
for (i in 1:length(unique(books$gutenberg_id))){
print(i)
#subset by individual book
sub<-books[books$gutenberg_id == as.numeric(levels(as.factor(books$gutenberg_id)))[i],]
#collapse into a single unit
sub1<-paste(sub$text, collapse = " ")
#create custon filename
file.name<-paste("PG", sub$gutenberg_id[1], ".txt", sep = "")
#removes spaces, removes line breaks (twice!), removes chars after the first 20
#file.name<-paste(sub$gutenberg_id[1],"_", gsub("\n", "", substr(gsub("[[:punct:]]", "",gsub(" ", "", sub$title[1], fixed = TRUE)), 1,20), fixed=TRUE),".txt", sep="")
#file.name<-gsub("\r", "", file.name, fixed = T)
#write file
write(sub1, file=file.name)
}
install.packages("XML")
library(XML)
url<-"https://horizon.mcgill.ca/pban1/bwlkfcwl.P_FacClaListSum"
test<-readHTMLTable(url)
install.packages("data.table")
library(data.table)
test<-fread("Record
Number	Waitlist Position	Student Name	ID	Reg Status	Level	Credits	Degree	Program	Major	Class	Telephone	Email	Notification Expires
1	0	Akkad, Sarah	261025204	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 2	(514) 553-2403	sarah.akkad@mail.mcgill.ca
2	0	Alryyes, Aya	261096404	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Environment -IFP	UG Level Year 1 New	(718) 422-7799	aya.alryyes@mail.mcgill.ca
3	0	Assaadi, Omar	261045731	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Software Engineering -Con *	UG Level Year 2	(+1)	omar.assaadi@mail.mcgill.ca
4	0	Baptista, Amelia	261093009	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Environment -IFP	UG Level Year 1 New	Intl:2426025074	amelia.baptista@mail.mcgill.ca
5	0	Bazzari, Shireen	261077744	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1 New	(514) 679-0320 Intl:971504551760	shireen.bazzari@mail.mcgill.ca
6	0	Beachy, Lilou	261097833	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Freshman Program	UG Level Year 0	(319) 248-3505	lilou.beachy@mail.mcgill.ca
7	0	Bisera, Maxine	261035569	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Biology -Con *	UG Level Year 1Returning	(438) 855-2695	maxine.bisera@mail.mcgill.ca
8	0	Blakeley, Roan	261002961	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Biology -Con *	UG Level Year 1Returning	(443) 433-2589	roan.blakeley@mail.mcgill.ca
9	0	Boileau, Anthony	261120255	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1 New	(514) 945-0707	anthony.boileau@mail.mcgill.ca
10	0	Byrde, Hannah	261069615	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Sustainability, Sci & Soc -IFP	UG Level Year 1 New	(404) 276-1389	hannah.byrde@mail.mcgill.ca
11	0	Campos-Gutierrez, Sofia	261083715	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Freshman Program	UG Level Year 0	(902) 436-8816	sofia.campos-gutierrez@mail.mcgill.ca
12	0	Chaddock, Sarah	260892223	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	English -Con *	UG Level Year 3	(514) 464-7025	sarah.chaddock@mail.mcgill.ca
13	0	Chow, Nick	261020753	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Biology -Con *	UG Level Year 1Returning	(416) 256-7699	nicholas.chow@mail.mcgill.ca
14	0	Chuang Yong Zhu, Yasmin	261086274	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Freshman Program	UG Level Year 0	N/A	yasmin.chuangyongzhu@mail.mcgill.ca
15	0	Colak, Melek Deniz	261029907	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1Returning	(438) 493-5261	melek.colak@mail.mcgill.ca
16	0	Connor, Frank	261094970	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Undeclared	UG Level Year 1 New	(503) 799-8311	frank.connor@mail.mcgill.ca
17	0	Cormier, Maddy	261038123	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1Returning	(902) 452-2211	madelyn.cormier@mail.mcgill.ca
18	0	Creeggan, Finn	261090445	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science Honours	Cognitive Science -Hon	UG Level Year 1 New	(647) 248-8792	finn.creeggan@mail.mcgill.ca
19	0	Daley, Kendyl	261103283	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Freshman Program	UG Level Year 0	(506) 546-9453	kendyl.daley@mail.mcgill.ca
20	0	Dallaire, Alexia	261049771	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 2	N/A	alexia.dallaire@mail.mcgill.ca
21	0	Depras, Valentine	260986917	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Sustainability, Sci & Soc -IFP	UG Level Year 3	(438) 816-5774	valentine.depras@mail.mcgill.ca
22	0	Docherty, Curtis	260769767	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 3	(514) 865-9910	curtis.docherty@mail.mcgill.ca
23	0	Du, Roberta	261041347	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1Returning	(416) 566-0821	roberta.du@mail.mcgill.ca
24	0	Dupuis, Maude	261115413	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1 New	N/A	maude.dupuis@mail.mcgill.ca
25	0	Durkee, Elliot	261008316	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 2	Intl:1-216-212-9898	elliot.durkee@mail.mcgill.ca
26	0	Dworkind, Chavy	261018177	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1 New	(514) 605-7499	chava.dworkind@mail.mcgill.ca
27	0	Emond, Margot	261120309	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Biology -Con *	UG Level Year 1 New	(514) 702-7127	margot.emond@mail.mcgill.ca
28	0	Escallon, Sara	260959496	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Environment -IFP	UG Level Year 2	(416) 656-3124	sara.escallon@mail.mcgill.ca
29	0	Farmer, Sarah	260852940	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Sustainability, Sci & Soc -IFP	UG Level Year 2	(819) 923-2352	sarah.farmer2@mail.mcgill.ca
30	0	Fass, Caitlin	261101694	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Environment -IFP	UG Level Year 1 New	(781) 721-1298	caitlin.fass@mail.mcgill.ca
31	0	Gaisi, Kayla	261090163	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1 New	(917) 392-9447	kayla.gaisi@mail.mcgill.ca
32	0	Gaither, Liam	261055383	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Sustainability, Sci & Soc -IFP	UG Level Year 2	(514) 489-3619	liam.gaither@mail.mcgill.ca
33	0	Gaudreau, Sophie	260987271	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Sustainability, Sci & Soc -IFP	UG Level Year 3	(438) 390-4443	sophie.gaudreau@mail.mcgill.ca
34	0	Greenhill, Josephine	261118226	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science Honours	Mathematics -HC *	UG Level Year 1 New	(438) 229-2000	josephine.greenhill@mail.mcgill.ca
35	0	Grewal, Hannah	261035983	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Chemistry -Con *	UG Level Year 1Returning	(604) 724-4754	hannah.grewal@mail.mcgill.ca
36	0	Grunau, Owen	261079362	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Freshman Program	UG Level Year 0	(587) 969-0999	owen.grunau@mail.mcgill.ca
37	0	Guevara Castillo, Rebeca	260909598	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Environment -IFP	UG Level Year 3	(1)	rebeca.guevaracastillo@mail.mcgill.ca
38	0	Guo, Eugene	260910758	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science Honours	Cognitive Science -Hon	UG Level Year 2	(86) Intl:17307322602	yuzan.guo@mail.mcgill.ca
39	0	Guyoncour, Joann	261068288	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science Honours	Cognitive Science -Hon	UG Level Year 1 New	Intl:262693496008	joann.guyoncour@mail.mcgill.ca
40	0	Haring, Julia	261117044	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1 New	(514) 630-8496	julia.haring@mail.mcgill.ca
41	0	Harman, Paige	261023566	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Psychology -Con *	UG Level Year 1Returning	(626) 808-1962	paige.harman@mail.mcgill.ca
42	0	Hartwick, Ben	261011198	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science Honours	Cognitive Science -Hon	UG Level Year 2	(732) 742-5153	benjamin.hartwick@mail.mcgill.ca
43	0	Hempstead, Lindsay	260901820	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Software Engineering -Con *	UG Level Year 3	(250) 552-8255	lindsay.hempstead@mail.mcgill.ca
44	0	Hornung, Rachel	260892621	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 2	(613) 325-9823	rachel.hornung@mail.mcgill.ca
45	0	Hua, Doris	261097459	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	English -Con *	UG Level Year 1 New	(416) 998-3798	doris.hua@mail.mcgill.ca
46	0	Hunt-Isaak, Anna Rose	261077818	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Undeclared	UG Level Year 1 New	(610) 527-4206	anna.hunt-isaak@mail.mcgill.ca
47	0	Johnson, Simon	261068871	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Environment -IFP	UG Level Year 1 New	N/A	simon.johnson@mail.mcgill.ca
48	0	Jousse, Iseline	260977915	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Environment -IFP	UG Level Year 3	N/A	iseline.jousse@mail.mcgill.ca
49	0	Karam, Talia	260988945	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 3	(514) 737-1212	talia.karam@mail.mcgill.ca
50	0	Kelly, Shona	260945313	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Psychology -Con *	UG Level Year 2	N/A	shona.kelly@mail.mcgill.ca
51	0	Kim, Hanni	261042348	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1Returning	(207) 267-0754	hanni.kim@mail.mcgill.ca
52	0	Koch-Schulte, Annelies	260985235	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Sustainability, Sci & Soc -IFP	UG Level Year 1Returning	(438) 530-6673	annelies.koch-schulte@mail.mcgill.ca
53	0	Kosaraju, Arya	261070081	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Freshman Program	UG Level Year 0	(212) 744-6936	arya.kosaraju@mail.mcgill.ca
54	0	Koseleci-Vieira, Miles	261092358	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Freshman Program	UG Level Year 0	(905) 975-6559	miles.koseleci-vieira@mail.mcgill.ca
55	0	Labelle, Anya	261075853	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Freshman Program	UG Level Year 0	(780) 964-9500	anya.labelle@mail.mcgill.ca
56	0	Lagakos, Maria	261098310	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1 New	(514) 684-0923	maria.lagakos@mail.mcgill.ca
57	0	Lao, Joannie	261112381	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Freshman Program	UG Level Year 0	(416) 509-5115	joannie.lao@mail.mcgill.ca
58	0	Laskin, Mackenzie	260905277	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Sustainability, Sci & Soc -IFP	UG Level Year 3	(519) 637-1106 Ext:2264487428	mackenzie.laskin@mail.mcgill.ca
59	0	Lewis, Anae	260330960	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 3	(514) 944-2632	berlyn.lewis@mail.mcgill.ca
60	0	Li, Rob	261089903	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Undeclared	UG Level Year 1 New	(403) 269-9538	rob.li@mail.mcgill.ca
61	0	Lindsay-Stodart, Simon	261077546	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Freshman Program	UG Level Year 0	N/A	simon.lindsay-stodart@mail.mcgill.ca
62	0	Liu, Sifan	261074704	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 0	Intl:8615669229055	sifan.liu@mail.mcgill.ca
63	0	Liu, Yuhan	260947121	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science Honours	Cognitive Science -Hon	UG Level Year 2	(873) 992-6558	janou.liu@mail.mcgill.ca
64	0	Longley, Esme	260961846	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Sustainability, Sci & Soc -IFP	UG Level Year 2	(919) 408-1247	esme.longley@mail.mcgill.ca
65	0	Lu, Alexander	260893936	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 2	(438) 270-3342	alexander.lu2@mail.mcgill.ca
66	0	MacGregor, Jane	260896162	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Psychology -Con *	UG Level Year 3	(905) 330-5227	jane.macgregor2@mail.mcgill.ca
67	0	Martin, Zoe	261039501	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science Honours	Cognitive Science -Hon	UG Level Year 2	(650) 967-1917	zoe.martin@mail.mcgill.ca
68	0	Mateos, Elsa	261091021	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Sustainability, Sci & Soc -IFP	UG Level Year 1 New	Intl:33783497713	elsa.mateos@mail.mcgill.ca
69	0	Meng, Sophia	261015519	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1Returning	(647) 937-7987	qiyu.meng@mail.mcgill.ca
70	0	Mitran, Luca	261032385	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 2	(919) 636-4196	luca.mitran@mail.mcgill.ca
71	0	Nam, Gloria	261026284	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1Returning	(1)	ji.m.nam@mail.mcgill.ca
72	0	Osdoba, Ella	261068920	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Freshman Program	UG Level Year 0	(507) 341-2688	ella.osdoba@mail.mcgill.ca
73	0	Peng, Shuang	260948109	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Economics -Con *	UG Level Year 2	(438) 725-0808	shuang.peng2@mail.mcgill.ca
74	0	Perkins, Sydney	261112071	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Freshman Program	UG Level Year 0	(415) 888-3115	sydney.perkins@mail.mcgill.ca
75	0	Puhky, Gabe	260852458	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1Returning	(250) 644-4215	gabriel.puhky@mail.mcgill.ca
76	0	Qu, Zhang	260885418	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Mathematics -Con *	UG Level Year 3	N/A	zhang.qu@mail.mcgill.ca
77	0	Quinn, Rosalie	260922986	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 3	(514) 974-0447	rosalie.quinn@mail.mcgill.ca
78	0	Ramaroson, Arinala	261089951	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Psychology -Con *	UG Level Year 1 New	(514) 562-7965	arinala.ramaroson@mail.mcgill.ca
79	0	Ramloll, Leatisha	261048244	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1Returning	(+1)	leatisha.ramloll@mail.mcgill.ca
80	0	Root, Leigh	261002137	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Psychology -Con *	UG Level Year 1Returning	(917) 856-7554	leigh.root@mail.mcgill.ca
81	0	Roulet, Jonathan	260944010	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 2	N/A	jonathan.roulet@mail.mcgill.ca
82	0	Roy, Ã‰milie	261112098	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science Honours	Cognitive Science -Hon	UG Level Year 1 New	(613) 841-2345	emilie.roy3@mail.mcgill.ca
83	0	Rye, Mircea	261073930	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Freshman Program	UG Level Year 0	(778) 584-0584	mircea.rye@mail.mcgill.ca
84	0	Sagner, Sarah	261069213	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Statistics -Con *	UG Level Year 1 New	(914) 629-6631	sarah.sagner@mail.mcgill.ca
85	0	Sakajiri, Natan	261019038	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Mathematics -Con *	UG Level Year 1Returning	(343) 540-5257	natan.sakajiri@mail.mcgill.ca
86	0	Sande, Kyra	261100034	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Sustainability, Sci & Soc -IFP	UG Level Year 1 New	(925) 399-6765	kyra.sande@mail.mcgill.ca
87	0	Sarkar, Moumita	261112105	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science Honours	Cognitive Science -Hon	UG Level Year 1 New	(88)	moumita.sarkar@mail.mcgill.ca
88	0	Schleifer, Noa	261004963	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Undeclared	UG Level Year 1 New	(202) 543-2184	noa.schleifer@mail.mcgill.ca
89	0	Sekulich, Rowan	261033463	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1Returning	(250) 923-3421	rowan.sekulich@mail.mcgill.ca
90	0	Shu, Ann Ning	261086470	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Psychology -Con *	UG Level Year 1 New	N/A	ann.shu@mail.mcgill.ca
91	0	Silverman, Lucinda	261077608	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Freshman Program	UG Level Year 0	(215) 906-0635	lucinda.silverman@mail.mcgill.ca
92	0	Singer, Morgan	261074795	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Political Science -Con *	UG Level Year 1 New	N/A	morgan.singer@mail.mcgill.ca
93	0	Smith, Fiona	260966409	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Psychology -Con *	UG Level Year 1Returning	(720) 666-1980	fiona.smith@mail.mcgill.ca
94	0	Soan, Mei	261118334	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Psychology -Con *	UG Level Year 1 New	(514) 254-8730	mei.soan@mail.mcgill.ca
95	0	Stewart, Lisa	261072173	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Freshman Program	UG Level Year 0	(438) 528-8142	lisa.stewart@mail.mcgill.ca
96	0	Tan, Megan	261010985	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1Returning	(403) 808-2958	megan.tan2@mail.mcgill.ca
97	0	Thomson, Claire	260958115	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Psychology -Con *	UG Level Year 2	(604) 898-2647	claire.thomson@mail.mcgill.ca
98	0	Tinmouth, Amalia	261084467	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Intnl Development Studies -Con *	UG Level Year 1 New	(1)	amalia.tinmouth@mail.mcgill.ca
99	0	Toth, Julia	260970734	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Biology -Con *	UG Level Year 3	(819) 441-8684	julia.toth@mail.mcgill.ca
100	0	Touil, Amel	261078553	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1 New	Intl:33678473147	amel.touil@mail.mcgill.ca
101	0	Tremblay, Alexa	260955125	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1 New	(514) 609-4559	alexa.tremblay@mail.mcgill.ca
102	0	Trinh, Huy	261015197	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Computer Science -Con *	UG Level Year 1Returning	(438) 930-8156	huy.trinh2@mail.mcgill.ca
103	0	Tsukada, Mahiro	261076268	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Economics -Con *	UG Level Year 1 New	Intl:66657312091	mahiro.tsukada@mail.mcgill.ca
104	0	Tyagi, Keya	261117301	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1 New	(514) 679-6785	keya.tyagi@mail.mcgill.ca
105	0	Varma, Varsha	261097185	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1 New	(973) 653-0976	varsha.varma@mail.mcgill.ca
106	0	Vernet, Misha	261093197	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1 New	(201) 444-6204	mikael.vernet@mail.mcgill.ca
107	0	Vilkoff, Nicole	261027199	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 2	(613) 879-5046	nicole.vilkoff@mail.mcgill.ca
108	0	Walsh, Olivia	261087615	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Freshman Program	UG Level Year 0	(416) 848-3457	olivia.walsh@mail.mcgill.ca
109	0	Wang, Andrae	261008934	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1Returning	(438) 873-7168	wailin.wang@mail.mcgill.ca
110	0	Watson, Lia	261034465	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Sustainability, Sci & Soc -IFP	UG Level Year 1Returning	(604) 771-8782	lia.watson@mail.mcgill.ca
111	0	Weider, Sophie	260971726	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Sustainability, Sci & Soc -IFP	UG Level Year 2	(613) 234-0488	sophie.weider@mail.mcgill.ca
112	0	Weng, Jenny	261035394	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Chemistry -Con *	UG Level Year 1Returning	N/A	jenny.weng@mail.mcgill.ca
113	0	Wentges, Ava	261097197	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Freshman Program	UG Level Year 0	(613) 513-8901	ava.wentges@mail.mcgill.ca
114	0	Yin, Charlene	260971738	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science Honours	Cognitive Science -Hon	UG Level Year 2	(778) 987-0922	charlene.yin@mail.mcgill.ca
115	0	Zemel, Macey	261049898	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1 New	(514) 989-7112	macey.zemel@mail.mcgill.ca
116	0	Zhang, Elva	261095171	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Cognitive Science -IFP	UG Level Year 1 New	N/A	jiani.zhang@mail.mcgill.ca
117	0	Ziannis, Maria	261055541	Web Registered	Undergraduate	3.000	Bachelor of Arts and Science	B Arts and Science	Sustainability, Sci & Soc -IFP	UG Level Year 2	(514) 812-0129	maria.ziannis@mail.mcgill.ca	 ")
View(test)
table(test$Major)
sort(table(test$Major), decreasing = T)
sum(sort(table(test$Major), decreasing = T))
38+17+13++9
test2<-test$Major[grep("*", test$Major)]
test2
grep("*", test$Major)
grep("\*", test$Major)
grep("\\*", test$Major)
test2<-test$Major[grep("\\*", test$Major)]
test2
test2<-test[grep("\\*", test$Major),]
View(test2)
test3<-test[grep("Freshman", test$Major),]
29+17
View(test)
eug.boys<-data.frame(c(94,90), c(169, 206))
colnames(eug.boys)<-c("Intelligent", "Slow")
row.names(eug.boys)<-c("Literate", "Illiterate")
fisher.test(eug.boys)
View(eug.boys)
eug.girls<-data.frame(c(164,155), c(122,166))
colnames(eug.girls)<-c("Intelligent", "Slow")
row.names(eug.girls)<-c("Literate", "Illiterate")
fisher.test(eug.girls)
View(eug.girls)
eug.boys<-data.frame(c(94,90), c(169, 206))
colnames(eug.boys)<-c("Intelligent", "Slow")
row.names(eug.boys)<-c("Literate", "Illiterate")
fisher.test(eug.boys)
View(eug.boys)
eug.girls<-data.frame(c(164,155), c(122,166))
colnames(eug.girls)<-c("Intelligent", "Slow")
row.names(eug.girls)<-c("Literate", "Illiterate")
fisher.test(eug.girls)
View(eug.girls)
install.packages("entropy")
library(entropy)
entropy(c(1,2,3))
entropy(c(1,2,2))
entropy(c(2,2,2))
entropy(c(1,2,3,3,3))
entropy(c(2,2,2,2,2))
entropy(c(1))
entropy(c(1,2))
entropy(c(1,1))
entropy(c(.5))
entropy(c(.5, .5))
0.001315089/0.001307219
.007568314/.005336124
library(stringr)
setwd("/Users/akpiper/Data")
meta<-read.csv("CONLIT_META.csv")
setwd("/Users/akpiper/Research/Mobility")
c<-read.csv("CONLIT_CharData_AP_5.csv")
View(c)
cor.test(c$gpe_places_total, c$nongpe_places_total)
plot(c$gpe_places_total, c$nongpe_places_total)
fic<-c[c$Category == "FIC",]
cor.test(fic$gpe_places_total, fic$nongpe_places_total)
plot(fic$gpe_places_total, fic$nongpe_places_total)
plot(fic$num_gpe_places, fic$num_nongpe_places)
cor.test(fic$num_gpe_places, fic$num_nongpe_places)
sum(fic$num_nongpe_places)/sum(fic$num_gpe_places)
sum(c$num_nongpe_places)/sum(c$num_gpe_places)
summary(lm(avg_Distance_GPE_Tokens ~ Genre, data=fic))
summary(lm(semantic_dist_mean ~ Genre, data=fic))
setwd("/Users/akpiper/Documents/GitHub/mobility-books/data/derived")
c<-read.table(gzfile("CONLIT_CharData_AP_5.csv.gz"))
c<-read.table(gzfile("CONLIT_CharData_AP_5.csv.gz"), sep="\t", quote="")
View(c)
c<-read.table(gzfile("CONLIT_CharData_AP_5.csv.gz"), sep=",", quote="")
c<-read.csv(gzfile("CONLIT_CharData_AP_5.csv.gz"), sep="\t", quote="")
View(c)
c<-read.csv(gzfile("CONLIT_CharData_AP_5.csv.gz"), quote="")
c<-read.csv(gzfile("CONLIT_CharData_AP_5.csv.gz"))
View(c)
d<-read.csv(gzfile("CONLIT_CharData_AP_MW_5.csv.gz"))
which(c$book_id != d$book_id)
c$dist_miles<-d$dist_miles
View(c)
#normalize gpe_places_total by tokens
c$num_gpe_places_norm<-c$num_gpe_places/c$Tokens
#normalize nongpe_places_total by tokens
c$num_nongpe_places_norm<-c$num_nongpe_places/c$Tokens
#normalize by char_count
c$num_gpe_places_norm_byCharacter<-c$num_gpe_places/c$char_count
c$num_nongpe_places_norm_byCharacter<-c$num_nongpe_places/c$char_count
#normalize character count by Tokens
c$char_count_norm<-c$char_count/c$Tokens
c$avg_Distance_GPE<-c$dist_miles/c$gpe_places_total
#calculate AVG Distance as total distance per token
c$avg_Distance_GPE_Tokens<-c$dist_miles/c$Tokens
c$non_gpe_ratio<-c$nongpe_places_total/c$gpe_places_total
mean(c$non_gpe_ratio)
#NON / GPE ratio
c$non_gpe_ratio<-c$num_nongpe_places/c$num_gpe_places
mean(c$non_gpe_ratio)
c$num_nongpe_places
mean(c$non_gpe_ratio[!is.finite(c$non_gpe_ratio)] <- NA, na.rm=TRUE)
#NON / GPE ratio
c$non_gpe_ratio<-c$num_nongpe_places/c$num_gpe_places
c$non_gpe_ratio
View(c)
c<-c[,-1]
View(c)
write.csv(c, file="CONLIT_CharData_AP_6.csv")
system("gzip /CONLIT_CharData_AP_6.csv")
system("gzip CONLIT_CharData_AP_6.csv")
c<-read.csv(gzfile("CONLIT_CharData_AP_6.csv.gz"))
View(c)
c<-c[,-1]
write.csv(c, file="CONLIT_CharData_AP_6.csv", row.names = F)
system("gzip CONLIT_CharData_AP_6.csv")
write.csv(c, file="CONLIT_CharData_AP_6.csv", row.names = F)
system("gzip CONLIT_CharData_AP_6.csv")
c<-read.csv(gzfile("CONLIT_CharData_AP_6.csv.gz"))
View(c)
splitElements <- function(input_column) {
# Remove the square brackets at the beginning and end of each string in the column
cleaned_text <- gsub("^\\[|\\]$", "", input_column)
# Split each string into a list of elements based on ', ' and remove single quotes
elements_list <- lapply(strsplit(cleaned_text, "', '"), function(x) gsub("'", "", x))
# Convert the list of elements into a data frame
result_df <- data.frame(Element = unlist(elements_list))
return(result_df)
}
i=1
#extract all place names
test<-splitElements(c$gpe_sequences[i])
test
#extract all place names
place.df<-splitElements(c$gpe_sequences[i])
#get names of first and last
first<-place.df$Element[1]
last<-place.df$Element[nrow(place.df)]
first
last
plot(c$num_gpe_places, c$num_nongpe_places, xlab = "No. GPEs", ylab = "No. NonGPEs")
abline(lm(num_nongpe_places ~ num_gpe_places, data = c))
summary(lm(num_nongpe_places ~ num_gpe_places, data = c))
plot(c$num_gpe_places, c$num_nongpe_places, xlab = "GPEs", ylab = "NonGPEs")
abline(lm(num_nongpe_places ~ num_gpe_places, data = c))
